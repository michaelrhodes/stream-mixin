!function(e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):"undefined"!=typeof window?window.stream=e():"undefined"!=typeof global?global.stream=e():"undefined"!=typeof self&&(self.stream=e())}(function(){return function e(t,r,n){function o(s,c){if(!r[s]){if(!t[s]){var a="function"==typeof require&&require;if(!c&&a)return a(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+s+"'")}var f=r[s]={exports:{}};t[s][0].call(f.exports,function(e){var r=t[s][1][e];return o(r?r:e)},f,f.exports,e,t,r,n)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,t){var r=e("emitter-component");t.exports=function(){var e=function(e,t){function r(t){e.writable&&!1===e.write(t)&&a.pause&&a.pause()}function n(){a.readable&&a.resume&&a.resume()}function o(){f||(f=!0,e.end())}function i(){f||(f=!0,"function"==typeof e.destroy&&e.destroy())}function s(e){if(c(),0===this.listeners("error").length)throw e}function c(){a.removeListener("data",r),e.removeListener("drain",n),a.removeListener("end",o),a.removeListener("close",i),a.removeListener("error",s),e.removeListener("error",s),a.removeListener("end",c),a.removeListener("close",c),e.removeListener("close",c)}var a=this;a.on("data",r),e.on("drain",n),e._isStdio||t&&t.end===!1||(a.on("end",o),a.on("close",i));var f=!1;return a.on("error",s),e.on("error",s),a.on("end",c),a.on("close",c),e.on("close",c),e.emit("pipe",a),e};return function(){r(this),this.pipe=e}}()},{"emitter-component":2}],2:[function(e,t){function r(e){return e?n(e):void 0}function n(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}var o=e("indexof");t.exports=r,r.prototype.on=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},r.prototype.once=function(e,t){function r(){n.off(e,r),t.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},t._off=r,this.on(e,r),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r=this._callbacks[e];if(!r)return this;if(1==arguments.length)return delete this._callbacks[e],this;var n=o(r,t._off||t);return~n&&r.splice(n,1),this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),r=this._callbacks[e];if(r){r=r.slice(0);for(var n=0,o=r.length;o>n;++n)r[n].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{indexof:3}],3:[function(e,t){var r=[].indexOf;t.exports=function(e,t){if(r)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},{}]},{},[1])(1)});